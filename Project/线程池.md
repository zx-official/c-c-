# 线程池
线程池是由服务器预先创建的一组子进程，线程池中的线程数量应该和cpu数量差不多，线程池中的所有子线程都运行着相同的代码。当有新的任务到来时，主线程将通过某种方式选择线程池中的某一个子线程为之服务，这样比随用随创建相比付出的代价小得多，至于主线程选择哪个子线程来为新任务服务，则有多种方式；
- 主线程使用某种算法来主动选择子线程，最简单，最常用的算法是随机算法和轮流选取算法，但更优秀，更智能的算法将是任务在各个工作线程中均匀地分配，从而减轻服务器的整体压力
- 主线程和所有子线程 同规格一个共享的工作队列来同步，子线程都睡眠在该工作队列上，当有新任务到来时，主线程将任务添加到工作队列中，这将唤醒正在等待任务的子进程，不过只有一个子线程将获得新任务的"接管权"，它可以从工作队列中取出任务并执行之，而其他子线程将继续睡眠在工作队列上。

总结：
- 空间换时间，浪费服务器的硬件资源，换取运行效率
- 池是一组资源的集合，这组资源在服务启动之初就被完全创建好并初始化，这成为静态资源
- 当服务器进入正式运行阶段，开始处理客户秦秋的时候，如果他需要相关的资源，可以直接从池中获取，无需动态分配
- 当服务处理完一个客户连接后，可以把相关的资源放回池中，无需执行系统调用释放资源
