# 8.1

 ## linux命令
  ### grep
  grep -c: 返回有几个匹配的
  grep -v：返回匹配行的信息
  grep -n: 在哪一行

  ### chmod
  chmod -x 去除执行权限

## 进程间通信

**面试提问 ： 进程间通信的方式及其原理**

#### 进程间通信概念

- 进程是一个独立的资源分配单元，不同进程（这里所说的进程通常指的是用户进程）之间的资源是独立的，没有关联，不能在一个进程中直接访问另一个进程的资源。

- 但是，进程不是孤立的 ，不同的进程需要进行信息的交互和状态的传递等，因此需要进程间通信（IPC： Inter Process Communcation）

- 进程间通信的目的：
	数据传输： 一个进程他需要将它的数据发送给另一个进程
	
	通知事件： 一个进程需要向另一个或一组进程发送消息，通知它（他们）发生了某种事件（如进程终止时要通知父进程）。
	
	资源共享： 多个进程之间共享同样的资源，为了做到这一点，需要内核提供互斥和同步机制。
	
	进程控制： 有些进程希望完全控制另一个进程的执行（如Debug进程）,此时控制进程虚妄能够拦截另一个进程的所有陷入和异常，并且能够既是知道它的状态改变。
	

GUI 图形用户接口
IDE 集成开发环境
API 应用程序接口
#### 匿名管道

- 管道也叫无名（匿名）管道,它是unix系统IPC的最古老形式，所有的unix系统都支持这种通信机制
- 统计一个目录中的数目命令 ls | wc -1，为了执行该命令，shell创建了两个进程来分贝执行ls 和wc。

#### 管道的特点

- 管道其实是一个在内核内存中维护的缓冲器，这个缓冲器的存储能力是有限的 ，不同的操作系统大小不一定相同。

- 管道拥有文件的特质：读操作写操作，**匿名管道没有文件实体，有名管道有文件实体，但不存储数据，可以按照操作文件的方式对管道进行操作**
- 一个管道是一个字节流，使用管道时不存在消息或者消息边界的概念，从管道读取数据的进程可以读取任意大小的数据块，而不管写入进程写入管道的数据块大小是多少
- 通过管道传递的数据时顺序的，从管道中读取出来的字节的顺序和它们被写入管道的顺序是完全一样的。
**管道相当于环形队列**
- 在管道中的数据的传递的方向是单项的，一段用于写入，一段用于读取，管道是半双工的

-  从管道读取数据是一次性操作，数据一旦被读走，他就从管道中被抛弃，释放空间以便写入更多的数据，在管道中无法使用lseek（）来随机访问数据。

-  匿名管道只能在具有公共祖先的进程（父进程与子进程，或者两个兄弟进程，具有亲缘关系）之间使用
-  创建匿名管道
  
  ```c
  #include<unistd.h>
  int pipe(int pipefd[2])
  ```
- 查看管道缓存大小命令
 ```bash
ulimit -a
 ```
- 查看管道缓冲大小函数
```c
#include<unitsd.h>
long fpathconf(int fd,int name);
```

